let pokemonRepository=function(){let e=[],t=document.querySelector(".modal");function n(){t.classList.remove("is-visible")}function o(t){"object"==typeof t&&"name"in t?e.push(t):console.log("Pokemon is not correct")}function i(e){a(e).then((function(){!function(e){let n=document.querySelector(".modal-content"),o=document.querySelector(".modal-body"),i=document.querySelector(".modal-title"),a=document.querySelector(".modal-header");i.innerHTML="",o.innerHTML="";let l=document.createElement("h1");var c=e.name.split(" ").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(" ");l.innerHTML=c;let r=document.createElement("p"),d=[e.types[0].type.name];for(let t=1;t<e.types.length;t++)d.push(", "+e.types[t].type.name);r.innerHTML="Types: "+d.join("");let s=document.createElement("p");s.innerText="Height: "+e.height+" m";let m=document.createElement("p");m.innerText="Weight: "+e.weight+" kg";let p=document.createElement("img");p.classList.add("modal-img"),p.src=e.imageUrlFront,p.alt="Front image of "+e.name;let u=document.createElement("img");u.classList.add("modal-img"),u.src=e.imageUrlBack,u.alt="Back image of "+e.name,i.appendChild(l),o.appendChild(p),o.appendChild(u),o.appendChild(r),o.appendChild(s),o.appendChild(m),n.appendChild(a),n.appendChild(o),t.appendChild(n)}(e)}))}function a(e){let t=e.detailsUrl;return fetch(t).then((function(e){return e.json()})).then((function(t){e.imageUrlFront=t.sprites.front_default,e.imageUrlBack=t.sprites.back_default,e.height=t.height,e.types=t.types,e.weight=t.weight})).catch((function(e){console.error(e)}))}return window.addEventListener("keydown",(e=>{"Escape"===e.key&&t.classList.contains("is-visible")&&n()})),t.addEventListener("click",(e=>{e.target===t&&n()})),{add:o,getAll:function(){return e},addListItem:function(e){let t=document.querySelector(".list-group"),n=document.createElement("li");n.classList.add("list-group-item"),t.appendChild(n);let o=document.createElement("button");o.innerHTML=e.name,n.appendChild(o),o.classList.add("btn","btn-success"),o.setAttribute("data-target","#exampleModal"),o.setAttribute("data-toggle","modal"),function(e,t){e.addEventListener("click",(function(){i(t)}))}(o,e)},loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then((function(e){return e.json()})).then((function(e){e.results.forEach((function(e){o({name:e.name,detailsUrl:e.url})}))})).catch((function(e){console.error(e)}))},loadDetails:a,showDetails:i}}();pokemonRepository.loadList().then((function(){pokemonRepository.getAll().forEach((function(e){pokemonRepository.addListItem(e)}))}));